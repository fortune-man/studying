# ğŸ™‡ğŸ»â€â™‚ï¸Reference
- [ìë°” ì§ë ¬í™”](https://techblog.woowahan.com/2550/)

---

ì…ë ¥ ë°›ëŠ” ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ì•¼ í•˜ëŠ” ê²½ìš°

í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ read-only ìƒíƒœì¸ ì½˜ì†”ì„ ì¡°ì‘í•˜ì§€ ëª»í•´ ë¬´í•œ ëŒ€ê¸°í•˜ê±°ë‚˜, ê°’ì´ í• ë‹¹ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— NullPointerExceptionì„ ë§ì´í•˜ì—¬ í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ì§„í–‰í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

```java
public class InputView {

    public String putReadLine() {
        System.out.println(PUT.print());
        return Console.readLine();
    }

}
```

```java
    @Test
    public void ìˆ«ì_ì…ë ¥_ë°›ê¸°(){

        String expect = "123";
        String actual = inputView.putReadLine();


        assertEquals(expect, actual);

    }
}
```

![2](https://velog.velcdn.com/images/urtimeislimited/post/d849f64a-db7d-42f6-bf66-65e9e09bd0d3/image.png)




ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ê°œì„ í•´ë‚˜ê¸° ìœ„í•´ ë…¸ë ¥í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

---


### setIn()

System í´ë˜ìŠ¤ì˜ setIn()ì´ë¼ëŠ” ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.


```java
    public static void setIn(InputStream in) {
        checkIO();
        setIn0(in);
    }
```

- í‘œì¤€ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì„ ì „ë‹¬ë°›ìŠµë‹ˆë‹¤.
- ì¬í• ë‹¹í•´ë„ ê´œì°®ì€ì§€ í™•ì¸í•©ë‹ˆë‹¤.
- ê´œì°®ë‹¤ë©´ ì „ë‹¬ë°›ì€ InputStream íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤.



### InputStream
- InputStreamì€ ì¶”ìƒ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
- byte InputStreamì„ ë‚˜íƒ€ë‚´ëŠ” ëª¨ë“  êµ¬í˜„ì²´ì˜ ìƒìœ„ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
- ì ì ˆí•œ êµ¬í˜„ì²´ë¥¼ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.


>This abstract class is the superclass of all classes representing an input stream of bytes.
Applications that need to define a subclass of InputStream must always provide a method that returns the next byte of input.
ì‹œì‘ ì‹œê°„:
1.0
ê´€ë ¨ ì£¼ì œ:
BufferedInputStream, ByteArrayInputStream, DataInputStream, FilterInputStream, read(), OutputStream, PushbackInputStream
ì‘ì„±ì:
Arthur van Hoff

### ByteArrayInputStream

![3](https://velog.velcdn.com/images/urtimeislimited/post/ff724e78-3ebd-4baf-b189-93952da28f4c/image.png)

```java
public class Console {
    private static Scanner scanner;

    private Console() {
    }

    public static String readLine() {
        return getInstance().nextLine();
    }
```

- ë¬¸ìì—´ ì…ë ¥ ë°›ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ìƒí™©
- BufferedInputStream, DataInputStreamì€ Stringìœ¼ë¡œ ë³€í™˜í•˜ëŠ”ë° ê° ì¡ê¸°ê°€ í˜ë“¤ì—ˆìŠµë‹ˆë‹¤.

- getBytes()ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ìì—´ì„ ë°”ì´íŠ¸ í˜•íƒœë¡œ ì¸ì½”ë”©í•˜ì—¬ ë°°ì—´ë¡œ ì €ì¥í•  ìˆ˜ ìˆë‹¤ê³  í•©ë‹ˆë‹¤.
- 
>```java
    /**
     * Encodes this {@code String} into a sequence of bytes using the
     * platform's default charset, storing the result into a new byte array.
     *
     * <p> The behavior of this method when this string cannot be encoded in
     * the default charset is unspecified.  The {@link
     * java.nio.charset.CharsetEncoder} class should be used when more control
     * over the encoding process is required.
     *
     * @return  The resultant byte array
     *
     * @since      1.1
     */
    public byte[] getBytes() {
        return StringCoding.encode(coder(), value);
    }
  ```
- ByteArrayInputStream í´ë˜ìŠ¤ë¥¼ êµ¬í˜„ì²´ë¡œ ì„ íƒí–ˆìŠµë‹ˆë‹¤.
- í˜¹ì‹œ ëª¨ë¥¼ ë³€ê²½ì„ ìœ„í•´ [ì •ì  íŒ©í† ë¦¬](https://github.com/joohyeongKim/studying/blob/main/Effective_Java/ì•„ì´í…œ%201%20-%20ìƒì„±ì%20ëŒ€ì‹ %20ì •ì %20íŒ©í† ë¦¬%20ë©”ì„œë“œë¥¼%20ê³ ë ¤í•˜ë¼.md)ë¥¼ ì°¸ê³ í•˜ì—¬ ë°˜í™˜ ê°ì²´ë¥¼ ììœ ë¡­ê²Œ ì„ íƒí•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
    
```java
    public static InputStream setReadLine(String readLine) {
        return new ByteArrayInputStream(readLine.getBytes());
    }
```

  - í…ŒìŠ¤íŠ¸ ì‹œë„ (ê²°ê³¼ëŠ” ì„±ê³µ)
```java
    @Test
    public void ìˆ«ì_ì…ë ¥_ë°›ê¸°(){

        InputStream readLine = setReadLine("926"); 
        System.setIn(readLine);

        String expect = "926";
        String actual = inputView.putReadLine();

        assertEquals(expect, actual);
    }
}
```

- Console.readLine()ì„ ë””ë²„ê¹…í•œ ì½”ë“œë¥¼ ë³´ë©´
```java
    private static Scanner getInstance() {
        if (Objects.isNull(scanner) || isClosed()) {
            scanner = new Scanner(System.in);
        }
        return scanner;
    }
```

new Scanner(System.in)ì— ë“¤ì–´ê°”ì–´ì•¼ í•  ì½”ë“œê°€
System.setIn(setReadLine)ìœ¼ë¡œ ëŒ€ì²´ë˜ì—ˆìŒì„ ìœ ì¶”í•  ìˆ˜ ìˆëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.
